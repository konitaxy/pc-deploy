/*! 
 Build based on gin-vue-admin 
 Time : 1754201962000 */
import{_ as e,a,r as l,y as t,b as d,o,c as n,f as i,w as u,g as r,d as s,t as c,l as m,e as p,N as g,h as f}from"../gva/pixel-index.1754201962000.js";import{g as h,r as _,h as b}from"./pixel-finance.1754201962000.js";const R={class:"p-2"},v={style:{"text-align":"right","padding-bottom":"5px"}},w={style:{"font-size":"small"},class:"ms-1 px-1 rounded-1 bg-secondary text-light"},y={style:{"font-size":"small"},class:"ms-1 px-1 rounded-1 bg-secondary text-light"},V={class:"el-dropdown-link"},C={class:"mt-4"};var A=e({__name:"index",setup(e){const A=a({editRechargeRecordDialog:!1}),k=a({editRechargeRecordLoading:!1}),x=a({clientId:"",name:"",email:"",cardNo:"",status:"",orderId:"",page:1,pageSize:10,total:0}),D=l([]),I=()=>{h(x).then((e=>{0===e.code&&(D.value=e.data.list,x.total=e.data.total)}))};t((()=>{I()}));const P=()=>{I()},N=()=>{x.clientId="",x.name="",x.email="",x.cardNo="",x.status="",x.orderId=""},S=(e,a)=>{k.editRechargeRecordLoading=!0,_({id:e.ID,status:a}).then((e=>{k.editRechargeRecordLoading=!1,0===e.code&&(I(),f.success("Success"))}))},z=()=>{f.success("Channel Data Compensation button clicked")},L=()=>{f.success("Export button clicked")},U=l(null),E=()=>{k.editRechargeRecordLoading=!0,b({id:U.value.ID,amount:U.value.form.remitAmount}).then((e=>{k.editRechargeRecordLoading=!1,0===e.code&&(I(),f.success("Edit Success"))}))},O=e=>{x.value.pageSize=e,I()},j=e=>{x.value.page=e,I()};return(e,a)=>{const l=d("el-input"),t=d("el-form-item"),f=d("el-col"),h=d("el-option"),_=d("el-select"),b=d("el-button"),I=d("el-row"),F=d("el-form"),q=d("el-table-column"),B=d("el-tag"),G=d("arrow-down"),H=d("el-icon"),J=d("el-dropdown-item"),K=d("el-dropdown-menu"),M=d("el-dropdown"),Q=d("el-table"),T=d("el-dialog"),W=d("el-pagination");return o(),n("div",R,[i(F,{inline:!0,"label-position":"top",model:x},{default:u((()=>[i(I,{gutter:20,class:"w-100"},{default:u((()=>[i(f,{span:6},{default:u((()=>[i(t,{label:"Client No"},{default:u((()=>[i(l,{modelValue:x.clientNo,"onUpdate:modelValue":a[0]||(a[0]=e=>x.clientNo=e),placeholder:"Please enter client no"},null,8,["modelValue"])])),_:1})])),_:1}),i(f,{span:6},{default:u((()=>[i(t,{label:"Name"},{default:u((()=>[i(l,{modelValue:x.name,"onUpdate:modelValue":a[1]||(a[1]=e=>x.name=e),placeholder:"Please enter name"},null,8,["modelValue"])])),_:1})])),_:1}),i(f,{span:6},{default:u((()=>[i(t,{label:"Email"},{default:u((()=>[i(l,{modelValue:x.email,"onUpdate:modelValue":a[2]||(a[2]=e=>x.email=e),placeholder:"Please enter email"},null,8,["modelValue"])])),_:1})])),_:1}),i(f,{span:6},{default:u((()=>[i(t,{label:"Order ID"},{default:u((()=>[i(l,{modelValue:x.orderId,"onUpdate:modelValue":a[3]||(a[3]=e=>x.orderId=e),placeholder:"Please enter order id"},null,8,["modelValue"])])),_:1})])),_:1}),i(f,{span:6},{default:u((()=>[i(t,{label:"Status"},{default:u((()=>[i(_,{modelValue:x.status,"onUpdate:modelValue":a[4]||(a[4]=e=>x.status=e),placeholder:"Please select status",clearable:""},{default:u((()=>[i(h,{label:"Pending",value:"Pending"}),i(h,{label:"Proceed",value:"Proceed"}),i(h,{label:"Decline",value:"Decline"})])),_:1},8,["modelValue"])])),_:1})])),_:1}),i(f,{span:6},{default:u((()=>[i(t,{label:" "},{default:u((()=>[i(b,{type:"primary",onClick:P},{default:u((()=>a[9]||(a[9]=[r("Search")]))),_:1}),i(b,{onClick:N},{default:u((()=>a[10]||(a[10]=[r("Reset")]))),_:1})])),_:1})])),_:1})])),_:1}),i(I,{gutter:20})])),_:1},8,["model"]),s("div",v,[i(b,{type:"primary",onClick:z},{default:u((()=>a[11]||(a[11]=[r("Channel Data Compensation")]))),_:1}),i(b,{type:"primary",onClick:L},{default:u((()=>a[12]||(a[12]=[r("Export")]))),_:1})]),i(Q,{data:D.value,style:{width:"100%"},border:"","show-overflow-tooltip":""},{default:u((()=>[i(q,{prop:"client.clientNo",label:"Client No",width:"120"}),i(q,{prop:"client.name",label:"Name",width:"100"}),i(q,{prop:"orderId",label:"orderId",width:"180"}),i(q,{prop:"accountNumber",label:"Receive Number",width:"150"}),i(q,{prop:"originAmount",label:"Origin Remit Amount",width:"150"},{default:u((({row:e})=>[r(c(e.originAmount),1),s("span",w,c(e.currency),1)])),_:1}),i(q,{prop:"remitAmount",label:"Actual Amount",width:"150"},{default:u((({row:e})=>[r(c(e.remitAmount),1),s("span",y,c(e.currency),1)])),_:1}),i(q,{prop:"amount",label:"Final Amount",width:"150"}),i(q,{prop:"status",label:"Status",width:"100",fixed:"right"},{default:u((({row:e})=>["Pending"===e.status?(o(),m(B,{key:0,type:"info"},{default:u((()=>[r(c(e.status),1)])),_:2},1024)):"Success"===e.status?(o(),m(B,{key:1,type:"success"},{default:u((()=>[r(c(e.status),1)])),_:2},1024)):"Decline"===e.status?(o(),m(B,{key:2,type:"danger"},{default:u((()=>[r(c(e.status),1)])),_:2},1024)):p("",!0)])),_:1}),i(q,{label:"Action",width:"100",fixed:"right"},{default:u((({row:e})=>[i(M,null,{dropdown:u((()=>[i(K,null,{default:u((()=>[i(J,{disabled:k.editRechargeRecordLoading||"Pending"!=e.status,onClick:a=>(e=>{U.value=e,U.value.form={remitAmount:e.remitAmount},A.editRechargeRecordDialog=!0})(e)},{default:u((()=>a[14]||(a[14]=[r("Edit")]))),_:2},1032,["disabled","onClick"]),i(J,{disabled:k.editRechargeRecordLoading||"Pending"!=e.status,onClick:a=>S(e,"Success")},{default:u((()=>a[15]||(a[15]=[r(" Inbound")]))),_:2},1032,["disabled","onClick"]),i(J,{disabled:k.editRechargeRecordLoading||"Pending"!=e.status,onClick:a=>S(e,"Decline")},{default:u((()=>a[16]||(a[16]=[r("Decline")]))),_:2},1032,["disabled","onClick"])])),_:2},1024)])),default:u((()=>[s("span",V,[a[13]||(a[13]=r(" Operate ")),i(H,{class:"el-icon--right"},{default:u((()=>[i(G)])),_:1})])])),_:2},1024)])),_:1})])),_:1},8,["data"]),i(T,{modelValue:A.editRechargeRecordDialog,"onUpdate:modelValue":a[8]||(a[8]=e=>A.editRechargeRecordDialog=e),title:"Edit Recharge Record",width:"50%",style:{"max-width":"500px"}},{footer:u((()=>[s("div",null,[i(b,{type:"info",onClick:a[7]||(a[7]=e=>A.editRechargeRecordDialog=!1)},{default:u((()=>a[17]||(a[17]=[r("cancel")]))),_:1}),i(b,{loading:k.editRechargeRecordLoading,type:"success",onClick:g(E,["prevent"])},{default:u((()=>a[18]||(a[18]=[r("confirm")]))),_:1},8,["loading"])])])),default:u((()=>[i(F,{"label-position":"top","label-width":"auto",class:"p-3"},{default:u((()=>[i(t,{label:"Origin Remit Amount"},{default:u((()=>[i(l,{readonly:"",modelValue:U.value.originAmount,"onUpdate:modelValue":a[5]||(a[5]=e=>U.value.originAmount=e)},{append:u((()=>[r(c(U.value.currency),1)])),_:1},8,["modelValue"])])),_:1}),i(t,{label:"Actual Received Amount",error:"请输入金额","validate-status":U.value.remitAmount>0?"success":"error"},{default:u((()=>[i(l,{modelValue:U.value.form.remitAmount,"onUpdate:modelValue":a[6]||(a[6]=e=>U.value.form.remitAmount=e)},{append:u((()=>[r(c(U.value.currency),1)])),_:1},8,["modelValue"])])),_:1},8,["validate-status"])])),_:1})])),_:1},8,["modelValue"]),s("div",C,[i(W,{background:"",layout:"total, sizes, prev, pager, next, jumper",total:x.total,"page-sizes":[10,50,100],"page-size":x.pageSize,"current-page":x.page,onSizeChange:O,onCurrentChange:j},null,8,["total","page-size","current-page"])])])}}},[["__scopeId","data-v-494aad72"]]);export{A as default};
