/*! 
 Build based on melong-console 
 Time : 1754676445000 */
import{f as a}from"./pixel-finance.1754676445000.js";import{f as e}from"./pixel-format.1754676445000.js";import{_ as l,b as t,o as n,r,g as o,d as s,j as d,f as i,w as c,h as u,i as p,k as m,t as g,e as _,l as f}from"../assets/pixel-entry-index.1754676445000.js";const b={class:"form-white"},h={class:"ms-1"},y={class:"dialog-footer"},w={name:"CardTransactionDetail"},R=l(Object.assign(w,{props:{cardID:{type:String,default:""}},setup(l){const w=t({cardId:l.cardID,cardNumber:"",timeRange:[],transactionType:"",transactionStatus:"",total:0,pageSize:20,page:1}),R=async()=>{a(w).then((a=>{0===a.code&&(V.value=a.data.list,w.total=a.data.total)}))};n((()=>{R()}));const V=r([]),$=()=>{R()},v=()=>{},T=a=>{pageSize.value=a,R()},C=a=>{currentPage.value=a,R()};return(a,l)=>{const t=o("el-input"),n=o("el-form-item"),r=o("el-date-picker"),R=o("el-option"),z=o("el-select"),k=o("el-button"),x=o("el-form"),N=o("el-table-column"),S=o("el-table"),I=o("el-pagination"),j=o("el-dialog");return d(),s("div",b,[i(x,{inline:!0,class:"demo-form-inline"},{default:c((()=>[""==w.cardId?(d(),u(n,{key:0},{default:c((()=>[i(t,{modelValue:w.cardNumber,"onUpdate:modelValue":l[0]||(l[0]=a=>w.cardNumber=a),placeholder:a.$t("lang.please_enter_last_four_digits_of_card_number")},null,8,["modelValue","placeholder"])])),_:1})):p("",!0),i(n,null,{default:c((()=>[i(r,{modelValue:w.timeRange,"onUpdate:modelValue":l[1]||(l[1]=a=>w.timeRange=a),type:"datetimerange",style:{width:"auto"},"start-placeholder":a.$t("lang.start_time"),"value-format":"YYYY-MM-DD","end-placeholder":a.$t("lang.end_time")},null,8,["modelValue","start-placeholder","end-placeholder"])])),_:1}),i(n,null,{default:c((()=>[i(z,{modelValue:w.transactionType,"onUpdate:modelValue":l[2]||(l[2]=a=>w.transactionType=a),placeholder:a.$t("lang.please_select_transaction_type"),clearable:""},{default:c((()=>[i(R,{label:"Recharge",value:"Card_Recharge"}),i(R,{label:"Withdraw",value:"Card_Withdraw"}),i(R,{label:"Authorization",value:"Authorization"})])),_:1},8,["modelValue","placeholder"])])),_:1}),i(n,null,{default:c((()=>[i(k,{type:"primary",onClick:$},{default:c((()=>[m(g(a.$t("lang.search")),1)])),_:1}),i(k,{type:"primary",onClick:v},{default:c((()=>[m(g(a.$t("lang.export")),1)])),_:1})])),_:1})])),_:1}),i(S,{data:V.value,style:{width:"100%"}},{default:c((()=>[i(N,{prop:"card.cardNo",label:a.$t("lang.card_number")},null,8,["label"]),i(N,{prop:"merchantName",label:a.$t("lang.merchant_name")},null,8,["label"]),i(N,{prop:"amount",label:a.$t("lang.transaction_amount")},{default:c((({row:a})=>[m(g(a.amount),1),_("span",h,g(a.currency),1)])),_:1},8,["label"]),i(N,{prop:"transactionType",label:a.$t("lang.transaction_type")},{default:c((({row:e})=>[m(g("Card_Recharge"==e.transactionType?a.$t("lang.recharge"):"Card_Withdraw"==e.transactionType?a.$t("lang.withdraw"):e.transactionType),1)])),_:1},8,["label"]),i(N,{prop:"status",label:a.$t("lang.transaction_status")},null,8,["label"]),i(N,{prop:"transactionTime",label:a.$t("lang.transaction_time")},{default:c((({row:a})=>[m(g(f(e)(a.transactionTime)),1)])),_:1},8,["label"])])),_:1},8,["data"]),i(I,{background:"",layout:"total, sizes, prev, pager, next",total:w.total,"page-size":w.pageSize,"page-sizes":[10,50,100],"current-page":w.page,onSizeChange:T,onCurrentChange:C},null,8,["total","page-size","current-page"]),i(j,{modelValue:a.dialogVisible,"onUpdate:modelValue":l[4]||(l[4]=e=>a.dialogVisible=e),title:"查看"},{footer:c((()=>[_("span",y,[i(k,{onClick:l[3]||(l[3]=e=>a.dialogVisible=!1)},{default:c((()=>l[5]||(l[5]=[m("取消")]))),_:1})])])),default:c((()=>[_("p",null,"流水号 "+g(a.selectedRow.transactionId),1),_("p",null,"卡号 "+g(a.selectedRow.cardNumber),1),_("p",null,"商户名称 "+g(a.selectedRow.merchantName),1),_("p",null,"交易金额 "+g(a.selectedRow.transactionAmount),1),_("p",null,"交易币种 "+g(a.selectedRow.currency),1),_("p",null,"到账金额 "+g(a.selectedRow.arrivalAmount),1),_("p",null,"交易类型 "+g(a.selectedRow.transactionType),1),_("p",null,"交易状态 "+g(a.selectedRow.transactionStatus),1),_("p",null,"交易时间 "+g(a.selectedRow.transactionTime),1)])),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-3acc4c46"]]);export{R as default};
