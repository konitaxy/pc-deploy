/*! 
 Build based on gin-vue-admin 
 Time : 1754388578000 */
import{s as e,r as a,b as l,o as t,l as r,w as s,d as u,c as n,G as i,H as o,f as d}from"../gva/pixel-index.1754388578000.js";const c={class:"media"},p={class:"header-img-box-list"},v={__name:"index",props:{target:{type:Object,default:null},targetKey:{type:String,default:""}},emits:["enterImg"],setup(v,{expose:m,emit:g}){const h=g,x=a(!1),y=a([]),f=a("/api");return m({open:()=>{return a=this,l=null,t=function*(){const a=yield(l={page:1,pageSize:9999},e({url:"/fileUploadAndDownload/getFileList",method:"post",data:l}));var l;y.value=a.data.list,x.value=!0},new Promise(((e,r)=>{var s=e=>{try{n(t.next(e))}catch(a){r(a)}},u=e=>{try{n(t.throw(e))}catch(a){r(a)}},n=a=>a.done?e(a.value):Promise.resolve(a.value).then(s,u);n((t=t.apply(a,l)).next())}));var a,l,t}}),(e,a)=>{const m=l("el-icon"),g=l("el-image"),_=l("el-drawer");return t(),r(_,{modelValue:x.value,"onUpdate:modelValue":a[0]||(a[0]=e=>x.value=e),title:"媒体库"},{default:s((()=>[u("div",c,[(t(!0),n(i,null,o(y.value,((e,l)=>(t(),r(g,{key:l,class:"header-img-box-list",src:e.url&&"http"!==e.url.slice(0,4)?f.value+e.url:e.url,onClick:a=>{return l=e.url,t=v.target,r=v.targetKey,t&&r&&(t[r]=l),h("enterImg",l),void(x.value=!1);var l,t,r}},{error:s((()=>[u("div",p,[d(m,null,{default:s((()=>a[1]||(a[1]=[u("picture",null,null,-1)]))),_:1})])])),_:2},1032,["src","onClick"])))),128))])])),_:1},8,["modelValue"])}}};export{v as _};
