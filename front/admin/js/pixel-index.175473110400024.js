/*! 
 Build based on gin-vue-admin 
 Time : 1754731104000 */
import{_ as e,a,r as l,y as t,b as o,o as d,c as i,f as n,w as u,g as r,d as s,t as c,l as p,e as m,N as g,h as f}from"../gva/pixel-index.1754731104000.js";import{j as h,r as b,k as _}from"./pixel-finance.1754731104000.js";const R={class:"p-2"},v={style:{"text-align":"right","padding-bottom":"5px"}},w={style:{"font-size":"small"},class:"ms-1 px-1 rounded-1 bg-secondary text-light"},y={style:{"font-size":"small"},class:"ms-1 px-1 rounded-1 bg-secondary text-light"},C={class:"el-dropdown-link"},V={class:"mt-4"};var k=e({__name:"index",setup(e){const k=a({editRechargeRecordDialog:!1}),A=a({editRechargeRecordLoading:!1}),x=a({clientId:"",name:"",email:"",cardNo:"",status:"",orderId:"",page:1,pageSize:10,total:0}),D=l([]),I=()=>{h(x).then((e=>{0===e.code&&(D.value=e.data.list,x.total=e.data.total)}))};t((()=>{I()}));const P=()=>{I()},S=()=>{x.clientId="",x.name="",x.email="",x.cardNo="",x.status="",x.orderId=""},z=(e,a)=>{A.editRechargeRecordLoading=!0,b({id:e.ID,status:a}).then((e=>{A.editRechargeRecordLoading=!1,0===e.code&&(I(),f.success("Success"))}))},N=()=>{f.success("Channel Data Compensation button clicked")},L=()=>{f.success("Export button clicked")},E=l(null),U=()=>{A.editRechargeRecordLoading=!0,_({id:E.value.ID,amount:E.value.form.remitAmount}).then((e=>{A.editRechargeRecordLoading=!1,0===e.code&&(I(),f.success("Edit Success"))}))},j=e=>{x.value.pageSize=e,I()},O=e=>{x.value.page=e,I()};return(e,a)=>{const l=o("el-input"),t=o("el-form-item"),f=o("el-col"),h=o("el-option"),b=o("el-select"),_=o("el-button"),I=o("el-row"),F=o("el-form"),q=o("el-table-column"),B=o("el-tag"),G=o("arrow-down"),H=o("el-icon"),J=o("el-dropdown-item"),K=o("el-dropdown-menu"),M=o("el-dropdown"),Q=o("el-table"),T=o("el-dialog"),W=o("el-pagination");return d(),i("div",R,[n(F,{inline:!0,"label-position":"top",model:x},{default:u((()=>[n(I,{gutter:20,class:"w-100"},{default:u((()=>[n(f,{span:6},{default:u((()=>[n(t,{label:"Client No"},{default:u((()=>[n(l,{modelValue:x.clientNo,"onUpdate:modelValue":a[0]||(a[0]=e=>x.clientNo=e),placeholder:"Please enter client no"},null,8,["modelValue"])])),_:1})])),_:1}),n(f,{span:6},{default:u((()=>[n(t,{label:"Email"},{default:u((()=>[n(l,{modelValue:x.email,"onUpdate:modelValue":a[1]||(a[1]=e=>x.email=e),placeholder:"Please enter email"},null,8,["modelValue"])])),_:1})])),_:1}),n(f,{span:6},{default:u((()=>[n(t,{label:"Order ID"},{default:u((()=>[n(l,{modelValue:x.orderId,"onUpdate:modelValue":a[2]||(a[2]=e=>x.orderId=e),placeholder:"Please enter order id"},null,8,["modelValue"])])),_:1})])),_:1}),n(f,{span:6},{default:u((()=>[n(t,{label:"Status"},{default:u((()=>[n(b,{modelValue:x.status,"onUpdate:modelValue":a[3]||(a[3]=e=>x.status=e),placeholder:"Please select status",clearable:""},{default:u((()=>[n(h,{label:"Pending",value:"Pending"}),n(h,{label:"Proceed",value:"Proceed"}),n(h,{label:"Decline",value:"Decline"})])),_:1},8,["modelValue"])])),_:1})])),_:1}),n(f,{span:6},{default:u((()=>[n(t,{label:" "},{default:u((()=>[n(_,{type:"primary",onClick:P},{default:u((()=>a[8]||(a[8]=[r("Search")]))),_:1}),n(_,{onClick:S},{default:u((()=>a[9]||(a[9]=[r("Reset")]))),_:1})])),_:1})])),_:1})])),_:1}),n(I,{gutter:20})])),_:1},8,["model"]),s("div",v,[n(_,{type:"primary",onClick:N},{default:u((()=>a[10]||(a[10]=[r("Channel Data Compensation")]))),_:1}),n(_,{type:"primary",onClick:L},{default:u((()=>a[11]||(a[11]=[r("Export")]))),_:1})]),n(Q,{data:D.value,style:{width:"100%"},border:"","show-overflow-tooltip":""},{default:u((()=>[n(q,{prop:"client.clientNo",label:"Client No",width:"120"}),n(q,{prop:"client.email",label:"Email",width:"100"}),n(q,{prop:"orderId",label:"orderId",width:"180"}),n(q,{prop:"accountNumber",label:"Receive Number",width:"150"}),n(q,{prop:"originAmount",label:"Origin Remit Amount",width:"150"},{default:u((({row:e})=>[r(c(e.originAmount),1),s("span",w,c(e.currency),1)])),_:1}),n(q,{prop:"remitAmount",label:"Actual Amount",width:"150"},{default:u((({row:e})=>[r(c(e.remitAmount),1),s("span",y,c(e.currency),1)])),_:1}),n(q,{prop:"amount",label:"Final Amount",width:"150"}),n(q,{prop:"status",label:"Status",width:"100",fixed:"right"},{default:u((({row:e})=>["Pending"===e.status?(d(),p(B,{key:0,type:"info"},{default:u((()=>[r(c(e.status),1)])),_:2},1024)):"Success"===e.status?(d(),p(B,{key:1,type:"success"},{default:u((()=>[r(c(e.status),1)])),_:2},1024)):"Decline"===e.status?(d(),p(B,{key:2,type:"danger"},{default:u((()=>[r(c(e.status),1)])),_:2},1024)):m("",!0)])),_:1}),n(q,{label:"Action",width:"100",fixed:"right"},{default:u((({row:e})=>[n(M,null,{dropdown:u((()=>[n(K,null,{default:u((()=>[n(J,{disabled:A.editRechargeRecordLoading||"Pending"!=e.status,onClick:a=>(e=>{E.value=e,E.value.form={remitAmount:e.remitAmount},k.editRechargeRecordDialog=!0})(e)},{default:u((()=>a[13]||(a[13]=[r("Edit")]))),_:2},1032,["disabled","onClick"]),n(J,{disabled:A.editRechargeRecordLoading||"Pending"!=e.status,onClick:a=>z(e,"Success")},{default:u((()=>a[14]||(a[14]=[r(" Inbound")]))),_:2},1032,["disabled","onClick"]),n(J,{disabled:A.editRechargeRecordLoading||"Pending"!=e.status,onClick:a=>z(e,"Decline")},{default:u((()=>a[15]||(a[15]=[r("Decline")]))),_:2},1032,["disabled","onClick"])])),_:2},1024)])),default:u((()=>[s("span",C,[a[12]||(a[12]=r(" Operate ")),n(H,{class:"el-icon--right"},{default:u((()=>[n(G)])),_:1})])])),_:2},1024)])),_:1})])),_:1},8,["data"]),n(T,{modelValue:k.editRechargeRecordDialog,"onUpdate:modelValue":a[7]||(a[7]=e=>k.editRechargeRecordDialog=e),title:"Edit Recharge Record",width:"50%",style:{"max-width":"500px"}},{footer:u((()=>[s("div",null,[n(_,{type:"info",onClick:a[6]||(a[6]=e=>k.editRechargeRecordDialog=!1)},{default:u((()=>a[16]||(a[16]=[r("cancel")]))),_:1}),n(_,{loading:A.editRechargeRecordLoading,type:"success",onClick:g(U,["prevent"])},{default:u((()=>a[17]||(a[17]=[r("confirm")]))),_:1},8,["loading"])])])),default:u((()=>[n(F,{"label-position":"top","label-width":"auto",class:"p-3"},{default:u((()=>[n(t,{label:"Origin Remit Amount"},{default:u((()=>[n(l,{readonly:"",modelValue:E.value.originAmount,"onUpdate:modelValue":a[4]||(a[4]=e=>E.value.originAmount=e)},{append:u((()=>[r(c(E.value.currency),1)])),_:1},8,["modelValue"])])),_:1}),n(t,{label:"Actual Received Amount",error:"请输入金额","validate-status":E.value.remitAmount>0?"success":"error"},{default:u((()=>[n(l,{modelValue:E.value.form.remitAmount,"onUpdate:modelValue":a[5]||(a[5]=e=>E.value.form.remitAmount=e)},{append:u((()=>[r(c(E.value.currency),1)])),_:1},8,["modelValue"])])),_:1},8,["validate-status"])])),_:1})])),_:1},8,["modelValue"]),s("div",V,[n(W,{background:"",layout:"total, sizes, prev, pager, next, jumper",total:x.total,"page-sizes":[10,50,100],"page-size":x.pageSize,"current-page":x.page,onSizeChange:j,onCurrentChange:O},null,8,["total","page-size","current-page"])])])}}},[["__scopeId","data-v-3b4d0c29"]]);export{k as default};
