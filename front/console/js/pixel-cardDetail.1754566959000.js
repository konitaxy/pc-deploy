/*! 
 Build based on melong-console 
 Time : 1754566959000 */
import{a as l,s as a,r as e}from"./pixel-finance.1754566959000.js";import{a as s}from"./pixel-format.1754566959000.js";import n from"./pixel-transactionDetails.1754566959000.js";import{u as d,r,a as u,o as c,g as i,c as o,h as t,i as m,w as f,b as p,f as v,j as b,t as g,D as w,U as y,E as C}from"../assets/pixel-entry-index.1754566959000.js";const h={class:"row mb-4"},V={class:"col-sm-6"},D={class:"d-flex flex-row gap-3"},x={class:"fw-medium fs-5 me-2"},_={class:"d-flex flex-row gap-5 mt-3"},I={class:"fw-medium fw-5"},B={class:"fw-medium fw-5"},U={class:"fw-medium fw-5"},H={class:"col-sm-4 col-xs-12"},j={class:"row gy-3 fs-4 mb-4"},A={class:"col-6"},S={class:"col-6"},T={class:"col-6"},k={class:"col-6"},L={class:"col-6"},N={class:"col-6"},z={key:0,class:"row gy-3 fs-4"},E={class:"col-6"},O={class:"col-6"},q={class:"col-6"},G={class:"col-6"},P={class:"col-6"},Q={style:{color:"#1e73be",padding:"0 10px","font-weight":"bold"}},R={class:"d-flex justify-content-end"},W={name:"CardDetail"},F=Object.assign(W,{props:{card:{type:Object,default:()=>{}}},setup(W){const F=d(),J=W,K=r("cardDetails"),M=u({rechargeCardDialogVisible:!1}),X=u({rechargeCardLoading:!1}),Y=r(J.card),Z=()=>{a({id:Y.value.ID}).then((l=>{0==l.code&&(Y.value=l.data)}))};c((()=>{ll()}));const $=r([]),ll=()=>{l({page:1,pageSize:50}).then((l=>{$.value=l.data.list}))},al=()=>{X.rechargeCardLoading=!0,e({id:Y.value.ID,currency:F.userInfo.wallet.currency,amount:Y.value.rechargeAmount}).then((l=>{X.rechargeCardLoading=!1,0===l.code&&C.success("Rechage success"),F.GetUserInfo()}))};return(l,a)=>{const e=i("el-button"),d=i("el-tag"),r=i("el-tab-pane"),u=i("el-tabs"),c=i("el-input"),W=i("el-form-item"),J=i("el-form"),ll=i("el-dialog");return t(),o("div",null,[m(u,{modelValue:K.value,"onUpdate:modelValue":a[2]||(a[2]=l=>K.value=l)},{default:f((()=>[m(r,{label:"Card Details",name:"cardDetails",class:"p-3"},{default:f((()=>[p("div",h,[p("div",V,[p("div",D,[p("div",null,[p("span",x,[b(g(Y.value.cardNo),1),a[9]||(a[9]=p("br",null,null,-1))]),a[10]||(a[10]=p("span",{class:"text-secondary"},"Card Number",-1))]),m(e,{style:{height:"50%"},type:"primary",size:"small",onClick:Z},{default:f((()=>a[11]||(a[11]=[p("i",{class:"bi bi-eye me-1"},null,-1),b("show details")]))),_:1})]),p("div",_,[p("div",I,[a[12]||(a[12]=b("Brand")),a[13]||(a[13]=p("br",null,null,-1)),p("span",null,g(Y.value.cardBrand),1)]),p("div",B,[a[14]||(a[14]=b("CVV")),a[15]||(a[15]=p("br",null,null,-1)),p("span",null,g(Y.value.cvv),1)]),p("div",U,[a[16]||(a[16]=b("Expiration Date")),a[17]||(a[17]=p("br",null,null,-1)),p("span",null,g(Y.value.expirey),1)])])]),p("div",H,[m(e,{type:"primary",onClick:a[0]||(a[0]=l=>(Y.value.bin=$.value.find((l=>l.cardBinId===Y.value.cardBinId)),void(M.rechargeCardDialogVisible=!0)))},{default:f((()=>a[18]||(a[18]=[b("Top up")]))),_:1}),m(e,{type:"danger",onClick:a[1]||(a[1]=l=>{var a;y.confirm("The card will be cancelled immediately and cannot be restored!","Warning",{confirmButtonText:"Terminate",cancelButtonText:"Quit",type:"warning"}).then((()=>{handleCancelConfirm(a)})).catch((()=>{C({type:"info",message:"canceled"})}))})},{default:f((()=>a[19]||(a[19]=[b("Terminate card")]))),_:1})])]),p("div",j,[a[32]||(a[32]=p("span",{class:"fs-4 fw-medium"},"Basic Information",-1)),p("div",A,[a[20]||(a[20]=p("span",{class:"fs-6 fw-medium"},"Card ID",-1)),a[21]||(a[21]=p("br",null,null,-1)),p("span",null,g(Y.value.cardId),1)]),p("div",S,[a[22]||(a[22]=p("span",{class:"fs-6 fw-medium"},"Card Status",-1)),a[23]||(a[23]=p("br",null,null,-1)),m(d,null,{default:f((()=>[b(g(Y.value.cardStatus),1)])),_:1})]),p("div",T,[a[24]||(a[24]=p("span",{class:"fs-6 fw-medium"},"Available Balance",-1)),a[25]||(a[25]=p("br",null,null,-1)),p("span",null,g(Y.value.balance),1)]),p("div",k,[a[26]||(a[26]=p("span",{class:"fs-6 fw-medium"},"Card Currency",-1)),a[27]||(a[27]=p("br",null,null,-1)),p("span",null,g(Y.value.currency),1)]),p("div",L,[a[28]||(a[28]=p("span",{class:"fs-6 fw-medium"},"Card Schema",-1)),a[29]||(a[29]=p("br",null,null,-1)),p("span",null,g(Y.value.cardBrand),1)]),p("div",N,[a[30]||(a[30]=p("span",{class:"fs-6 fw-medium"},"Valid from",-1)),a[31]||(a[31]=p("br",null,null,-1)),p("span",null,g(w(s)(Y.value.activeDate)),1)])]),Y.value.Holder?(t(),o("div",z,[a[43]||(a[43]=p("span",{class:"fs-4 fw-medium"},"Billing Information",-1)),p("div",E,[a[33]||(a[33]=p("span",{class:"fs-6 fw-medium"},"Country",-1)),a[34]||(a[34]=p("br",null,null,-1)),p("span",null,g(Y.value.Holder.countryCode),1)]),p("div",O,[a[35]||(a[35]=p("span",{class:"fs-6 fw-medium"},"Province/State",-1)),a[36]||(a[36]=p("br",null,null,-1)),p("span",null,g(Y.value.Holder.state),1)]),p("div",q,[a[37]||(a[37]=p("span",{class:"fs-6 fw-medium"},"City",-1)),a[38]||(a[38]=p("br",null,null,-1)),p("span",null,g(Y.value.Holder.city),1)]),p("div",G,[a[39]||(a[39]=p("span",{class:"fs-6 fw-medium"},"Detailed Address",-1)),a[40]||(a[40]=p("br",null,null,-1)),p("span",null,g(Y.value.Holder.address),1)]),p("div",P,[a[41]||(a[41]=p("span",{class:"fs-6 fw-medium"},"Billing Address",-1)),a[42]||(a[42]=p("br",null,null,-1)),p("span",null,g("".concat(Y.value.Holder.countryCode,", ").concat(Y.value.Holder.state,", ").concat(Y.value.Holder.city,", ").concat(Y.value.Holder.address)),1)])])):v("",!0)])),_:1}),m(r,{label:"Transaction Details",name:"transactionDetails"},{default:f((()=>[m(n,{cardID:Y.value.cardId},null,8,["cardID"])])),_:1})])),_:1},8,["modelValue"]),m(ll,{title:"卡充值",width:"50%",modelValue:M.rechargeCardDialogVisible,"onUpdate:modelValue":a[8]||(a[8]=l=>M.rechargeCardDialogVisible=l),style:{"max-width":"500px"},"align-center":""},{footer:f((()=>[p("div",R,[m(e,{loading:X.rechargeCardLoading,type:"info",onClick:a[7]||(a[7]=l=>M.rechargeCardDialogVisible=!1)},{default:f((()=>a[45]||(a[45]=[b("Cancel")]))),_:1},8,["loading"]),m(e,{loading:X.rechargeCardLoading,type:"primary",onClick:al},{default:f((()=>a[46]||(a[46]=[b("Confirm")]))),_:1},8,["loading"])])])),default:f((()=>[m(J,{"label-position":"top",class:"p-4"},{default:f((()=>[m(W,{label:"卡号"},{default:f((()=>[m(c,{modelValue:Y.value.cardNo,"onUpdate:modelValue":a[3]||(a[3]=l=>Y.value.cardNo=l),disabled:""},{prepend:f((()=>[p("span",Q,g(Y.value.cardBrand),1)])),_:1},8,["modelValue"])])),_:1}),m(W,{label:"卡币种"},{default:f((()=>[m(c,{modelValue:Y.value.currency,"onUpdate:modelValue":a[4]||(a[4]=l=>Y.value.currency=l),disabled:""},null,8,["modelValue"])])),_:1}),m(W,{label:"卡可用余额"},{default:f((()=>[m(c,{modelValue:w(F).userInfo.wallet.balance,"onUpdate:modelValue":a[5]||(a[5]=l=>w(F).userInfo.wallet.balance=l),disabled:""},null,8,["modelValue"])])),_:1}),m(W,{label:"充值金额",required:"",error:"请输入金额,最小 ".concat(Y.value.bin.minBalance," USD"),"validate-status":Y.value.rechargeAmount>=Y.value.bin.minBalance?"success":"error"},{default:f((()=>[m(c,{modelValue:Y.value.rechargeAmount,"onUpdate:modelValue":a[6]||(a[6]=l=>Y.value.rechargeAmount=l),placeholder:"请输入金额"},{append:f((()=>a[44]||(a[44]=[b("USD")]))),_:1},8,["modelValue"])])),_:1},8,["error","validate-status"])])),_:1})])),_:1},8,["modelValue"])])}}});export{F as default};
