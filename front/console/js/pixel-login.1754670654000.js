/*! 
 Build based on melong-console 
 Time : 1754670654000 */
import{l as e}from"./pixel-logo.1754670654000.js";import{u as l,r as a,a as o,o as s,b as t,c as r,d as i,e as n,w as d,f as g,t as p,g as u,h as m,i as c,j as f,k as w,E as v,l as h,m as _}from"../assets/pixel-entry-index.1754670654000.js";import{v as b,a as y}from"./pixel-validates.1754670654000.js";import{g as x,d as V,s as $}from"./pixel-format.1754670654000.js";import{u as k}from"./pixel-language.1754670654000.js";const C=""+new URL("../assets/pixel-cards_login_new.1754670654000.png",import.meta.url).href,P={class:"container-fluid"},U={class:"position-absolute top-0 p-3",style:{right:"100px"}},j={class:"raw align-items-end d-flex"},q={class:"col col-6 vh100"},R={class:"left-container"},z={class:"slogan text-left"},E={class:"mb-2"},L={class:"mb-2 text-highlight"},F={class:"mb-2"},D={class:"mb-2 text-highlight"},I={class:"col col-6 vh100"},M={class:"right-side"},T={class:"mb-3 fs-5"},S={class:"justify-content-between w-100 d-flex"},A={class:"w-100"},B={class:"mb-3 fs-5"},G={class:"w-100"},H={class:"mb-3 fs-5"},J={class:"text-secondary",style:{"font-size":"small"}},K={class:"w-100"},N={__name:"login",setup(N){const O=k(),{t:Q}=l(),W=a(!1),X=a(),Y=a(),Z=o({email:[{required:!0,message:Q("lang.validation.email_required"),trigger:"blur"},{validator:b,message:Q("lang.validation.email_invalid"),trigger:"blur"}]}),ee=a("login"),le=o({email:"",password:"",authMethod:2,phone:"",code:"",verifyCode:"",remember:!1}),ae=o({email:"",password:"",newPassword:""}),oe=o({email:"",name:"",repeatPassword:"",password:"",phone:"",verifyCode:"",inviteCode:""}),se=e=>{O.changeLocale(e)};s((()=>{x("verification_free")&&(W.value=!0)}));const te=o({email:[{validator:b,trigger:"blur"}],password:[{validator:y,trigger:"blur"}],newPassword:[{validator:(e,l,a)=>{l!==ae.password?a(new Error(Q("lang.validation.password_mismatch"))):a()},trigger:"blur"}]}),re=o({name:[{required:!0,message:Q("lang.validation.name_required"),trigger:"blur"},{min:6,max:20,message:Q("lang.validation.name_length"),trigger:"blur"},{whitespace:!0,message:Q("lang.validation.name_whitespace"),trigger:"blur"}],email:[{validator:b,trigger:"blur"}],password:[{validator:y,trigger:"blur"}],repeatPassword:[{validator:(e,l,a)=>{l!==oe.password?a(new Error(Q("lang.validation.password_mismatch"))):a()},trigger:"blur"}],inviteCode:[{required:!0,message:Q("lang.validation.invite_code_required"),trigger:"blur"},{len:6,message:Q("lang.validation.invite_code_length"),trigger:"blur"}],verifyCode:[{required:!0,message:Q("lang.validation.verify_code_required"),trigger:"blur"},{len:6,message:Q("lang.validation.verify_code_length"),trigger:"blur"}]}),ie=t(),ne=async()=>{await X.value.validate()&&ie.LoginIn(le).then((e=>{e&&le.remember&&$("verification_free","yes",30)}))},de=async()=>{await foundPasswordFormRef.value.validate()&&_(ae).then((e=>{0===e.code&&(v.success("Reset password success"),ee.value="login")}))},ge=async()=>{await Y.value.validate()&&(oe.password==oe.repeatPassword?h(oe).then((e=>{0===e.code&&(ee.value="login",v.success("注册成功"))})):v.error("two password not same"))};o({email:"",password:"",newPassword:"",verifyCode:"",disable:!1,sendText:"Send code",intervalID:null,countdown:60,lastDateTime:Date.now()});return(l,a)=>{const o=g("arrow-down"),s=g("el-icon"),t=g("el-button"),v=g("el-dropdown-item"),h=g("el-dropdown-menu"),_=g("el-dropdown"),b=g("el-input"),y=g("el-form-item"),x=g("el-link"),$=g("el-form"),k=g("el-card");return c(),r("div",P,[i("div",U,[n(_,{class:"me-2","popper-class":"px-2"},{dropdown:d((()=>[n(h,null,{default:d((()=>[n(v,{onClick:a[0]||(a[0]=e=>se("zh")),class:"justify-content-center"},{default:d((()=>a[17]||(a[17]=[f("中文")]))),_:1}),n(v,{onClick:a[1]||(a[1]=e=>se("en")),class:"justify-content-center"},{default:d((()=>a[18]||(a[18]=[f("English")]))),_:1})])),_:1})])),default:d((()=>[n(t,{type:"text",style:{"min-width":"100px"}},{default:d((()=>[f(p("zh"===w(O).currentLocale?"中文":"English"),1),n(s,{class:"el-icon--right"},{default:d((()=>[n(o)])),_:1})])),_:1})])),_:1})]),i("div",j,[i("div",q,[i("div",R,[a[20]||(a[20]=i("div",{class:"logo text-center"},[i("img",{src:e,alt:"Logo",class:"logo"})],-1)),i("div",z,[i("h1",E,p(l.$t("lang.login.slogan.line1")),1),i("h1",L,p(l.$t("lang.login.slogan.line2")),1),i("h1",F,p(l.$t("lang.login.slogan.line3")),1),i("h1",D,p(l.$t("lang.login.slogan.line4")),1),a[19]||(a[19]=i("div",{class:"left-main-image text-center"},[i("img",{src:C,alt:"Main",class:"main-image"})],-1))])])]),i("div",I,[i("div",M,["login"==ee.value?(c(),u(k,{key:0,class:"login-card login-form"},{default:d((()=>[i("h2",T,p(l.$t("lang.login.title")),1),n($,{ref_key:"loginFormRef",ref:X,model:le,rules:Z,"label-width":"0px"},{default:d((()=>[n(y,{prop:"email",class:"login-form-item"},{default:d((()=>[n(b,{modelValue:le.email,"onUpdate:modelValue":a[2]||(a[2]=e=>le.email=e),placeholder:l.$t("lang.login.email"),class:"login-form-input"},null,8,["modelValue","placeholder"])])),_:1}),n(y,{prop:"password",class:"login-form-item"},{default:d((()=>[n(b,{modelValue:le.password,"onUpdate:modelValue":a[3]||(a[3]=e=>le.password=e),type:"password",placeholder:l.$t("lang.login.password"),class:"login-form-input","show-password":""},null,8,["modelValue","placeholder"])])),_:1}),n(y,null,{default:d((()=>[i("div",S,[a[21]||(a[21]=i("div",null,null,-1)),i("div",null,[n(x,{onClick:a[4]||(a[4]=e=>(V("verification_free"),void window.location.reload())),type:"danger",style:{float:"right","margin-left":"10px","font-size":"12px"}},{default:d((()=>[f(p(l.$t("lang.login.clear_cache")),1)])),_:1}),n(x,{type:"danger",style:{float:"right","font-size":"12px"},onClick:a[5]||(a[5]=e=>ee.value="forgetPassword")},{default:d((()=>[f(p(l.$t("lang.login.forgot_password")),1)])),_:1})])])])),_:1}),n(y,null,{default:d((()=>[n(t,{class:"w-100 login-btn",type:"primary",onClick:ne},{default:d((()=>[f(p(l.$t("lang.login.login_btn")),1)])),_:1}),i("div",A,[n(t,{style:{float:"right"},class:"btn text-end text-end btn-link",onClick:a[6]||(a[6]=e=>ee.value="register")},{default:d((()=>[f(p(l.$t("lang.login.register_link")),1)])),_:1})])])),_:1})])),_:1},8,["model","rules"])])),_:1})):m("",!0),"register"==ee.value?(c(),u(k,{key:1,class:"login-card"},{default:d((()=>[i("h2",B,p(l.$t("lang.register.title")),1),n($,{ref_key:"registerFormRef",ref:Y,model:oe,rules:re,"label-width":"0px"},{default:d((()=>[n(y,{prop:"name"},{default:d((()=>[n(b,{modelValue:oe.name,"onUpdate:modelValue":a[7]||(a[7]=e=>oe.name=e),placeholder:l.$t("lang.register.name")},null,8,["modelValue","placeholder"])])),_:1}),n(y,{prop:"email"},{default:d((()=>[n(b,{modelValue:oe.email,"onUpdate:modelValue":a[8]||(a[8]=e=>oe.email=e),placeholder:l.$t("lang.register.email")},null,8,["modelValue","placeholder"])])),_:1}),n(y,{prop:"password"},{default:d((()=>[n(b,{modelValue:oe.password,"onUpdate:modelValue":a[9]||(a[9]=e=>oe.password=e),type:"password",placeholder:l.$t("lang.register.password"),"show-password":""},null,8,["modelValue","placeholder"])])),_:1}),n(y,{prop:"repeatPassword"},{default:d((()=>[n(b,{modelValue:oe.repeatPassword,"onUpdate:modelValue":a[10]||(a[10]=e=>oe.repeatPassword=e),type:"password",placeholder:l.$t("lang.register.repeat_password"),"show-password":""},null,8,["modelValue","placeholder"])])),_:1}),n(y,{prop:"inviteCode"},{default:d((()=>[n(b,{modelValue:oe.inviteCode,"onUpdate:modelValue":a[11]||(a[11]=e=>oe.inviteCode=e),placeholder:l.$t("lang.register.invite_code")},null,8,["modelValue","placeholder"])])),_:1}),n(y,null,{default:d((()=>[n(t,{class:"w-100",type:"primary",onClick:ge},{default:d((()=>[f(p(l.$t("lang.register.register_btn")),1)])),_:1}),i("div",G,[n(t,{class:"btn text-end text-end btn-link",onClick:a[12]||(a[12]=e=>ee.value="login")},{default:d((()=>[f(p(l.$t("lang.register.login_link")),1)])),_:1})])])),_:1})])),_:1},8,["model","rules"])])),_:1})):m("",!0),"forgetPassword"==ee.value?(c(),u(k,{key:2,class:"login-card"},{default:d((()=>[i("h2",H,p(l.$t("lang.forgot.title")),1),i("p",J,p(l.$t("lang.forgot.description")),1),n($,{ref:"foundPasswordFormRef",model:ae,rules:te,"label-width":"0px"},{default:d((()=>[n(y,{prop:"email"},{default:d((()=>[n(b,{modelValue:ae.email,"onUpdate:modelValue":a[13]||(a[13]=e=>ae.email=e),placeholder:l.$t("lang.forgot.email")},null,8,["modelValue","placeholder"])])),_:1}),n(y,{prop:"password"},{default:d((()=>[n(b,{modelValue:ae.password,"onUpdate:modelValue":a[14]||(a[14]=e=>ae.password=e),type:"password",placeholder:l.$t("lang.forgot.new_password"),"show-password":""},null,8,["modelValue","placeholder"])])),_:1}),n(y,{prop:"newPassword"},{default:d((()=>[n(b,{modelValue:ae.newPassword,"onUpdate:modelValue":a[15]||(a[15]=e=>ae.newPassword=e),type:"password",placeholder:l.$t("lang.forgot.repeat_new_password"),"show-password":""},null,8,["modelValue","placeholder"])])),_:1}),n(y,null,{default:d((()=>[n(t,{class:"w-100",type:"primary",onClick:de},{default:d((()=>[f(p(l.$t("lang.forgot.confirm_btn")),1)])),_:1}),i("div",K,[n(t,{class:"btn text-end text-end btn-link",onClick:a[16]||(a[16]=e=>ee.value="login")},{default:d((()=>[f(p(l.$t("lang.forgot.login_link")),1)])),_:1})])])),_:1})])),_:1},8,["model","rules"])])),_:1})):m("",!0)])])])])}}};export{N as default};
