/*! 
 Build based on melong-console 
 Time : 1754714802000 */
import{l as e}from"./pixel-logo.1754714802000.js";import{u as l,a,r as s,b as o,o as r,c as t,d as i,e as n,f as d,w as g,g as p,t as u,h as c,i as m,j as f,k as w,l as v,E as h,m as _,n as b}from"../assets/pixel-entry-index.1754714802000.js";import{v as y,a as x}from"./pixel-validates.1754714802000.js";import{g as k,d as V,s as $}from"./pixel-format.1754714802000.js";const C=""+new URL("../assets/pixel-cards_login_new.1754714802000.png",import.meta.url).href,P={class:"container-fluid"},U={class:"position-absolute top-0 p-3",style:{right:"100px"}},j={href:"#",class:"link-primary link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover",style:{"line-height":"normal"}},q={class:"raw align-items-end d-flex"},R={class:"col col-6 vh100"},z={class:"left-container"},E={class:"slogan text-left"},L={class:"mb-2"},F={class:"mb-2 text-highlight"},D={class:"mb-2"},I={class:"mb-2 text-highlight"},M={class:"col col-6 vh100"},T={class:"right-side"},S={class:"mb-3 fs-5"},A={class:"justify-content-between w-100 d-flex"},B={class:"w-100"},G={class:"mb-3 fs-5"},H={class:"w-100"},J={class:"mb-3 fs-5"},K={class:"text-secondary",style:{"font-size":"small"}},N={class:"w-100"},O={__name:"login",setup(O){const Q=l(),{t:W}=a(),X=s(!1),Y=s(),Z=s(),ee=o({email:[{required:!0,message:W("lang.validation.email_required"),trigger:"blur"},{validator:y,message:W("lang.validation.email_invalid"),trigger:"blur"}]}),le=s("login"),ae=o({email:"",password:"",authMethod:2,phone:"",code:"",verifyCode:"",remember:!1}),se=o({email:"",password:"",newPassword:""}),oe=o({email:"",repeatPassword:"",password:"",phone:"",verifyCode:"",inviteCode:""}),re=e=>{console.log("hello",W("test")),Q.changeLocale(e)};r((()=>{k("verification_free")&&(X.value=!0)}));const te=o({email:[{validator:y,trigger:"blur"}],password:[{validator:x,trigger:"blur"}],newPassword:[{validator:(e,l,a)=>{l!==se.password?a(new Error(W("lang.validation.password_mismatch"))):a()},trigger:"blur"}]}),ie=o({name:[{required:!0,message:W("lang.validation.name_required"),trigger:"blur"},{min:6,max:20,message:W("lang.validation.name_length"),trigger:"blur"},{whitespace:!0,message:W("lang.validation.name_whitespace"),trigger:"blur"}],email:[{validator:y,trigger:"blur"}],password:[{validator:x,trigger:"blur"}],repeatPassword:[{validator:(e,l,a)=>{l!==oe.password?a(new Error(W("lang.validation.password_mismatch"))):a()},trigger:"blur"}],inviteCode:[{required:!0,message:W("lang.validation.invite_code_required"),trigger:"blur"},{len:6,message:W("lang.validation.invite_code_length"),trigger:"blur"}],verifyCode:[{required:!0,message:W("lang.validation.verify_code_required"),trigger:"blur"},{len:6,message:W("lang.validation.verify_code_length"),trigger:"blur"}]}),ne=t(),de=async()=>{await Y.value.validate()&&ne.LoginIn(ae).then((e=>{e&&ae.remember&&$("verification_free","yes",30)}))},ge=async()=>{await foundPasswordFormRef.value.validate()&&b(se).then((e=>{0===e.code&&(h.success("Reset password success"),le.value="login")}))},pe=async()=>{await Z.value.validate()&&(oe.password==oe.repeatPassword?_(oe).then((e=>{0===e.code&&(le.value="login",h.success("注册成功"))})):h.error("two password not same"))};o({email:"",password:"",newPassword:"",verifyCode:"",disable:!1,sendText:"Send code",intervalID:null,countdown:60,lastDateTime:Date.now()});return(l,a)=>{const s=p("arrow-down"),o=p("el-icon"),r=p("el-dropdown-item"),t=p("el-dropdown-menu"),h=p("el-dropdown"),_=p("el-input"),b=p("el-form-item"),y=p("el-link"),x=p("el-button"),k=p("el-form"),$=p("el-card");return f(),i("div",P,[n("div",U,[d(h,{class:"me-2","popper-class":"px-2"},{dropdown:g((()=>[d(t,null,{default:g((()=>[d(r,{onClick:a[0]||(a[0]=e=>re("zh")),class:"justify-content-center"},{default:g((()=>a[16]||(a[16]=[w("中文")]))),_:1}),d(r,{onClick:a[1]||(a[1]=e=>re("en")),class:"justify-content-center"},{default:g((()=>a[17]||(a[17]=[w("English")]))),_:1})])),_:1})])),default:g((()=>[n("a",j,[w(u("zh"===v(Q).currentLocale?"中文":"English"),1),d(o,{class:"el-icon--right"},{default:g((()=>[d(s)])),_:1})])])),_:1})]),n("div",q,[n("div",R,[n("div",z,[a[19]||(a[19]=n("div",{class:"logo text-center"},[n("img",{src:e,alt:"Logo",class:"logo"})],-1)),n("div",E,[n("h1",L,u(l.$t("lang.login.slogan.line1")),1),n("h1",F,u(l.$t("lang.login.slogan.line2")),1),n("h1",D,u(l.$t("lang.login.slogan.line3")),1),n("h1",I,u(l.$t("lang.login.slogan.line4")),1),a[18]||(a[18]=n("div",{class:"left-main-image text-center"},[n("img",{src:C,alt:"Main",class:"main-image"})],-1))])])]),n("div",M,[n("div",T,["login"==le.value?(f(),c($,{key:0,class:"login-card login-form"},{default:g((()=>[n("h2",S,u(l.$t("lang.login.title")),1),d(k,{ref_key:"loginFormRef",ref:Y,model:ae,rules:ee,"label-width":"0px"},{default:g((()=>[d(b,{prop:"email",class:"login-form-item"},{default:g((()=>[d(_,{modelValue:ae.email,"onUpdate:modelValue":a[2]||(a[2]=e=>ae.email=e),placeholder:l.$t("lang.login.email"),class:"login-form-input"},null,8,["modelValue","placeholder"])])),_:1}),d(b,{prop:"password",class:"login-form-item"},{default:g((()=>[d(_,{modelValue:ae.password,"onUpdate:modelValue":a[3]||(a[3]=e=>ae.password=e),type:"password",placeholder:l.$t("lang.login.password"),class:"login-form-input","show-password":""},null,8,["modelValue","placeholder"])])),_:1}),d(b,null,{default:g((()=>[n("div",A,[a[20]||(a[20]=n("div",null,null,-1)),n("div",null,[d(y,{onClick:a[4]||(a[4]=e=>(V("verification_free"),void window.location.reload())),type:"danger",style:{float:"right","margin-left":"10px","font-size":"12px"}},{default:g((()=>[w(u(l.$t("lang.login.clear_cache")),1)])),_:1}),d(y,{type:"danger",style:{float:"right","font-size":"12px"},onClick:a[5]||(a[5]=e=>le.value="forgetPassword")},{default:g((()=>[w(u(l.$t("lang.login.forgot_password")),1)])),_:1})])])])),_:1}),d(b,null,{default:g((()=>[d(x,{class:"w-100 login-btn",type:"primary",onClick:de},{default:g((()=>[w(u(l.$t("lang.login.login_btn")),1)])),_:1}),n("div",B,[d(x,{style:{float:"right"},class:"btn text-end text-end btn-link",onClick:a[6]||(a[6]=e=>le.value="register")},{default:g((()=>[w(u(l.$t("lang.login.register_link")),1)])),_:1})])])),_:1})])),_:1},8,["model","rules"])])),_:1})):m("",!0),"register"==le.value?(f(),c($,{key:1,class:"login-card"},{default:g((()=>[n("h2",G,u(l.$t("lang.register.title")),1),d(k,{ref_key:"registerFormRef",ref:Z,model:oe,rules:ie,"label-width":"0px"},{default:g((()=>[d(b,{prop:"email"},{default:g((()=>[d(_,{modelValue:oe.email,"onUpdate:modelValue":a[7]||(a[7]=e=>oe.email=e),placeholder:l.$t("lang.register.email")},null,8,["modelValue","placeholder"])])),_:1}),d(b,{prop:"password"},{default:g((()=>[d(_,{modelValue:oe.password,"onUpdate:modelValue":a[8]||(a[8]=e=>oe.password=e),type:"password",placeholder:l.$t("lang.register.password"),"show-password":""},null,8,["modelValue","placeholder"])])),_:1}),d(b,{prop:"repeatPassword"},{default:g((()=>[d(_,{modelValue:oe.repeatPassword,"onUpdate:modelValue":a[9]||(a[9]=e=>oe.repeatPassword=e),type:"password",placeholder:l.$t("lang.register.repeat_password"),"show-password":""},null,8,["modelValue","placeholder"])])),_:1}),d(b,{prop:"inviteCode"},{default:g((()=>[d(_,{modelValue:oe.inviteCode,"onUpdate:modelValue":a[10]||(a[10]=e=>oe.inviteCode=e),placeholder:l.$t("lang.register.invite_code")},null,8,["modelValue","placeholder"])])),_:1}),d(b,null,{default:g((()=>[d(x,{class:"w-100",type:"primary",onClick:pe},{default:g((()=>[w(u(l.$t("lang.register.register_btn")),1)])),_:1}),n("div",H,[d(x,{class:"btn text-end text-end btn-link",onClick:a[11]||(a[11]=e=>le.value="login")},{default:g((()=>[w(u(l.$t("lang.register.login_link")),1)])),_:1})])])),_:1})])),_:1},8,["model","rules"])])),_:1})):m("",!0),"forgetPassword"==le.value?(f(),c($,{key:2,class:"login-card"},{default:g((()=>[n("h2",J,u(l.$t("lang.forgot.title")),1),n("p",K,u(l.$t("lang.forgot.description")),1),d(k,{ref:"foundPasswordFormRef",model:se,rules:te,"label-width":"0px"},{default:g((()=>[d(b,{prop:"email"},{default:g((()=>[d(_,{modelValue:se.email,"onUpdate:modelValue":a[12]||(a[12]=e=>se.email=e),placeholder:l.$t("lang.forgot.email")},null,8,["modelValue","placeholder"])])),_:1}),d(b,{prop:"password"},{default:g((()=>[d(_,{modelValue:se.password,"onUpdate:modelValue":a[13]||(a[13]=e=>se.password=e),type:"password",placeholder:l.$t("lang.forgot.new_password"),"show-password":""},null,8,["modelValue","placeholder"])])),_:1}),d(b,{prop:"newPassword"},{default:g((()=>[d(_,{modelValue:se.newPassword,"onUpdate:modelValue":a[14]||(a[14]=e=>se.newPassword=e),type:"password",placeholder:l.$t("lang.forgot.repeat_new_password"),"show-password":""},null,8,["modelValue","placeholder"])])),_:1}),d(b,null,{default:g((()=>[d(x,{class:"w-100",type:"primary",onClick:ge},{default:g((()=>[w(u(l.$t("lang.forgot.confirm_btn")),1)])),_:1}),n("div",N,[d(x,{class:"btn text-end text-end btn-link",onClick:a[15]||(a[15]=e=>le.value="login")},{default:g((()=>[w(u(l.$t("lang.forgot.login_link")),1)])),_:1})])])),_:1})])),_:1},8,["model","rules"])])),_:1})):m("",!0)])])])])}}};export{O as default};
