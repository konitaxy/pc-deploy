/*! 
 Build based on melong-console 
 Time : 1754399315000 */
import{g as e}from"./pixel-finance.1754399315000.js";import{f as a}from"./pixel-format.1754399315000.js";import{_ as l,a as t,o,r as n,g as r,c as s,h as d,i,w as u,e as c,f as p,j as m,b as g,t as f,D as b}from"../assets/pixel-entry-index.1754399315000.js";const y={class:"p-2"},_={class:"ms-1"},h={class:"dialog-footer"},w={name:"CardTransactionDetail"},V=l(Object.assign(w,{props:{cardID:{type:String,default:""}},setup(l){const w=t({cardId:l.cardID,cardNumber:"",timeRange:[],transactionType:"",transactionStatus:"",total:0,pageSize:20,page:1}),V=async()=>{e(w).then((e=>{0===e.code&&(R.value=e.data.list,w.total=e.data.total)}))};o((()=>{V()}));const R=n([]),v=()=>{V()},T=()=>{},z=e=>{pageSize.value=e,V()},C=e=>{currentPage.value=e,V()};return(e,l)=>{const t=r("el-input"),o=r("el-form-item"),n=r("el-date-picker"),V=r("el-option"),N=r("el-select"),S=r("el-button"),k=r("el-form"),x=r("el-table-column"),D=r("el-table"),I=r("el-pagination"),j=r("el-dialog");return d(),s("div",y,[i(k,{inline:!0,class:"demo-form-inline"},{default:u((()=>[""==w.cardId?(d(),c(o,{key:0},{default:u((()=>[i(t,{modelValue:w.cardNumber,"onUpdate:modelValue":l[0]||(l[0]=e=>w.cardNumber=e),placeholder:"请输入卡号后四位"},null,8,["modelValue"])])),_:1})):p("",!0),i(o,null,{default:u((()=>[i(n,{modelValue:w.timeRange,"onUpdate:modelValue":l[1]||(l[1]=e=>w.timeRange=e),type:"datetimerange","start-placeholder":"开始时间","value-format":"YYYY-MM-DD","end-placeholder":"结束时间"},null,8,["modelValue"])])),_:1}),i(o,null,{default:u((()=>[i(N,{modelValue:w.transactionType,"onUpdate:modelValue":l[2]||(l[2]=e=>w.transactionType=e),placeholder:"请选择交易类型",clearable:""},{default:u((()=>[i(V,{label:"Recharge",value:"card_in"}),i(V,{label:"Withdraw",value:"card_out"}),i(V,{label:"Authorization",value:"Authorization"})])),_:1},8,["modelValue"])])),_:1}),i(o,null,{default:u((()=>[i(S,{type:"primary",onClick:v},{default:u((()=>l[5]||(l[5]=[m("搜索")]))),_:1}),i(S,{type:"primary",onClick:T},{default:u((()=>l[6]||(l[6]=[m("导出")]))),_:1})])),_:1})])),_:1}),i(D,{data:R.value,style:{width:"100%"}},{default:u((()=>[i(x,{prop:"card.cardNo",label:"卡号"}),i(x,{prop:"merchantName",label:"商户名称"}),i(x,{prop:"amount",label:"交易金额"},{default:u((({row:e})=>[m(f(e.amount),1),g("span",_,f(e.currency),1)])),_:1}),i(x,{prop:"transactionType",label:"交易类型"},{default:u((({row:e})=>[m(f("card_in"==e.transactionType?"Recharge":"card_out"==e.transactionType?"Withdraw":e.transactionType),1)])),_:1}),i(x,{prop:"status",label:"交易状态"}),i(x,{prop:"transactionTime",label:"交易时间"},{default:u((({row:e})=>[m(f(b(a)(e.transactionTime)),1)])),_:1})])),_:1},8,["data"]),i(I,{background:"",layout:"total, sizes, prev, pager, next",total:w.total,"page-size":w.pageSize,"page-sizes":[10,50,100],"current-page":w.page,onSizeChange:z,onCurrentChange:C},null,8,["total","page-size","current-page"]),i(j,{modelValue:e.dialogVisible,"onUpdate:modelValue":l[4]||(l[4]=a=>e.dialogVisible=a),title:"查看"},{footer:u((()=>[g("span",h,[i(S,{onClick:l[3]||(l[3]=a=>e.dialogVisible=!1)},{default:u((()=>l[7]||(l[7]=[m("取消")]))),_:1})])])),default:u((()=>[g("p",null,"流水号 "+f(e.selectedRow.transactionId),1),g("p",null,"卡号 "+f(e.selectedRow.cardNumber),1),g("p",null,"商户名称 "+f(e.selectedRow.merchantName),1),g("p",null,"交易金额 "+f(e.selectedRow.transactionAmount),1),g("p",null,"交易币种 "+f(e.selectedRow.currency),1),g("p",null,"到账金额 "+f(e.selectedRow.arrivalAmount),1),g("p",null,"交易类型 "+f(e.selectedRow.transactionType),1),g("p",null,"交易状态 "+f(e.selectedRow.transactionStatus),1),g("p",null,"交易时间 "+f(e.selectedRow.transactionTime),1)])),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-8d86e645"]]);export{V as default};
