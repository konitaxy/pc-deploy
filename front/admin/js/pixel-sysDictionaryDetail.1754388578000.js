/*! 
 Build based on gin-vue-admin 
 Time : 1754388578000 */
var e=Object.defineProperty,l=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,i=(l,a,t)=>a in l?e(l,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[a]=t,u=(e,l,a)=>new Promise(((t,i)=>{var u=e=>{try{o(a.next(e))}catch(l){i(l)}},s=e=>{try{o(a.throw(e))}catch(l){i(l)}},o=e=>e.done?t(e.value):Promise.resolve(e.value).then(u,s);o((a=a.apply(e,l)).next())}));import{s,x as o,r,b as d,o as n,c as p,d as c,f as v,w as m,g as y,t as f,q as b,h as g}from"../gva/pixel-index.1754388578000.js";import{f as h,a as D}from"./pixel-format.1754388578000.js";import"./pixel-dictionary.1754388578000.js";const w=e=>s({url:"/sysDictionaryDetail/createSysDictionaryDetail",method:"post",data:e}),_={class:"gva-search-box"},V={class:"gva-table-box"},k={class:"gva-btn-list"},x={style:{"text-align":"right","margin-top":"8px"}},z={class:"gva-pagination"},C={class:"dialog-footer"},I=Object.assign({name:"SysDictionaryDetail"},{setup(e){const I=o(),S=r({label:null,value:null,status:!0,sort:null}),U=r({label:[{required:!0,message:"请输入展示值",trigger:"blur"}],value:[{required:!0,message:"请输入字典值",trigger:"blur"}],sort:[{required:!0,message:"排序标记",trigger:"blur"}]}),j=r(1),O=r(0),q=r(10),P=r([]),N=r({sysDictionaryID:Number(I.params.id)}),M=()=>{N.value={sysDictionaryID:Number(I.params.id)}},A=()=>{j.value=1,q.value=10,""===N.value.status&&(N.value.status=null),L()},E=e=>{q.value=e,L()},F=e=>{j.value=e,L()},L=()=>u(this,null,(function*(){const e=yield(u=((e,u)=>{for(var s in u||(u={}))a.call(u,s)&&i(e,s,u[s]);if(l)for(var s of l(u))t.call(u,s)&&i(e,s,u[s]);return e})({page:j.value,pageSize:q.value},N.value),s({url:"/sysDictionaryDetail/getSysDictionaryDetailList",method:"get",params:u}));var u;0===e.code&&(P.value=e.data.list,O.value=e.data.total,j.value=e.data.page,q.value=e.data.pageSize)}));L();const T=r(""),B=r(!1),G=e=>u(this,null,(function*(){const l=yield(a={ID:e.ID},s({url:"/sysDictionaryDetail/findSysDictionaryDetail",method:"get",params:a}));var a;T.value="update",0===l.code&&(S.value=l.data.resysDictionaryDetail,B.value=!0)})),H=()=>{B.value=!1,S.value={label:null,value:null,status:!0,sort:null,sysDictionaryID:""}},J=e=>u(this,null,(function*(){e.visible=!1;var l;0===(yield(l={ID:e.ID},s({url:"/sysDictionaryDetail/deleteSysDictionaryDetail",method:"delete",data:l}))).code&&(g({type:"success",message:"删除成功"}),1===P.value.length&&j.value>1&&j.value--,L())})),K=r(null),Q=()=>u(this,null,(function*(){S.value.sysDictionaryID=Number(I.params.id),K.value.validate((e=>u(this,null,(function*(){if(!e)return;let l;switch(T.value){case"create":default:l=yield w(S.value);break;case"update":l=yield(a=S.value,s({url:"/sysDictionaryDetail/updateSysDictionaryDetail",method:"put",data:a}))}var a;0===l.code&&(g({type:"success",message:"创建/更改成功"}),H(),L())}))))})),R=()=>{T.value="create",B.value=!0};return(e,l)=>{const a=d("el-input"),t=d("el-form-item"),i=d("el-option"),u=d("el-select"),s=d("el-button"),o=d("el-form"),r=d("el-table-column"),g=d("el-popover"),w=d("el-table"),I=d("el-pagination"),L=d("el-input-number"),T=d("el-switch"),W=d("el-dialog");return n(),p("div",null,[c("div",_,[v(o,{inline:!0,model:N.value},{default:m((()=>[v(t,{label:"展示值"},{default:m((()=>[v(a,{modelValue:N.value.label,"onUpdate:modelValue":l[0]||(l[0]=e=>N.value.label=e),placeholder:"搜索条件"},null,8,["modelValue"])])),_:1}),v(t,{label:"字典值"},{default:m((()=>[v(a,{modelValue:N.value.value,"onUpdate:modelValue":l[1]||(l[1]=e=>N.value.value=e),placeholder:"搜索条件"},null,8,["modelValue"])])),_:1}),v(t,{label:"启用状态",prop:"status"},{default:m((()=>[v(u,{modelValue:N.value.status,"onUpdate:modelValue":l[2]||(l[2]=e=>N.value.status=e),placeholder:"请选择"},{default:m((()=>[v(i,{key:"true",label:"是",value:"true"}),v(i,{key:"false",label:"否",value:"false"})])),_:1},8,["modelValue"])])),_:1}),v(t,null,{default:m((()=>[v(s,{size:"small",type:"primary",icon:"search",onClick:A},{default:m((()=>l[8]||(l[8]=[y("查询")]))),_:1}),v(s,{size:"small",icon:"refresh",onClick:M},{default:m((()=>l[9]||(l[9]=[y("重置")]))),_:1})])),_:1})])),_:1},8,["model"])]),c("div",V,[c("div",k,[v(s,{size:"small",type:"primary",icon:"plus",onClick:R},{default:m((()=>l[10]||(l[10]=[y("新增字典项")]))),_:1})]),v(w,{ref:"multipleTable",data:P.value,style:{width:"100%"},"tooltip-effect":"dark","row-key":"ID"},{default:m((()=>[v(r,{type:"selection",width:"55"}),v(r,{align:"left",label:"日期",width:"180"},{default:m((e=>[y(f(b(h)(e.row.CreatedAt)),1)])),_:1}),v(r,{align:"left",label:"展示值",prop:"label",width:"120"}),v(r,{align:"left",label:"字典值",prop:"value",width:"120"}),v(r,{align:"left",label:"启用状态",prop:"status",width:"120"},{default:m((e=>[y(f(b(D)(e.row.status)),1)])),_:1}),v(r,{align:"left",label:"排序标记",prop:"sort",width:"120"}),v(r,{align:"left",label:"按钮组"},{default:m((e=>[v(s,{size:"small",type:"text",icon:"edit",onClick:l=>G(e.row)},{default:m((()=>l[11]||(l[11]=[y("变更")]))),_:2},1032,["onClick"]),v(g,{visible:e.row.visible,"onUpdate:visible":l=>e.row.visible=l,placement:"top",width:"160"},{reference:m((()=>[v(s,{type:"text",icon:"delete",size:"small",onClick:l=>e.row.visible=!0},{default:m((()=>l[14]||(l[14]=[y("删除")]))),_:2},1032,["onClick"])])),default:m((()=>[l[15]||(l[15]=c("p",null,"确定要删除吗？",-1)),c("div",x,[v(s,{size:"small",type:"text",onClick:l=>e.row.visible=!1},{default:m((()=>l[12]||(l[12]=[y("取消")]))),_:2},1032,["onClick"]),v(s,{type:"primary",size:"small",onClick:l=>J(e.row)},{default:m((()=>l[13]||(l[13]=[y("确定")]))),_:2},1032,["onClick"])])])),_:2},1032,["visible","onUpdate:visible"])])),_:1})])),_:1},8,["data"]),c("div",z,[v(I,{"current-page":j.value,"page-size":q.value,"page-sizes":[10,30,50,100],total:O.value,layout:"total, sizes, prev, pager, next, jumper",onCurrentChange:F,onSizeChange:E},null,8,["current-page","page-size","total"])])]),v(W,{modelValue:B.value,"onUpdate:modelValue":l[7]||(l[7]=e=>B.value=e),"before-close":H,title:"弹窗操作"},{footer:m((()=>[c("div",C,[v(s,{size:"small",onClick:H},{default:m((()=>l[16]||(l[16]=[y("取 消")]))),_:1}),v(s,{size:"small",type:"primary",onClick:Q},{default:m((()=>l[17]||(l[17]=[y("确 定")]))),_:1})])])),default:m((()=>[v(o,{ref_key:"dialogForm",ref:K,model:S.value,rules:U.value,size:"medium","label-width":"110px"},{default:m((()=>[v(t,{label:"展示值",prop:"label"},{default:m((()=>[v(a,{modelValue:S.value.label,"onUpdate:modelValue":l[3]||(l[3]=e=>S.value.label=e),placeholder:"请输入展示值",clearable:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1}),v(t,{label:"字典值",prop:"value"},{default:m((()=>[v(L,{modelValue:S.value.value,"onUpdate:modelValue":l[4]||(l[4]=e=>S.value.value=e),modelModifiers:{number:!0},"step-strictly":"",step:1,placeholder:"请输入字典值",clearable:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1}),v(t,{label:"启用状态",prop:"status",required:""},{default:m((()=>[v(T,{modelValue:S.value.status,"onUpdate:modelValue":l[5]||(l[5]=e=>S.value.status=e),"active-text":"开启","inactive-text":"停用"},null,8,["modelValue"])])),_:1}),v(t,{label:"排序标记",prop:"sort"},{default:m((()=>[v(L,{modelValue:S.value.sort,"onUpdate:modelValue":l[6]||(l[6]=e=>S.value.sort=e),modelModifiers:{number:!0},placeholder:"排序标记"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue"])])}}});export{I as default};
