/*! 
 Build based on gin-vue-admin 
 Time : 1754731104000 */
import{f as e}from"./pixel-format.1754731104000.js";import{l,c as a,a as t,r as i,s as n}from"./pixel-client.1754731104000.js";import{w as o}from"./pixel-clipboard-polyfill.es6.1754731104000.js";import{_ as s,a as u,r as c,y as d,b as r,o as m,c as p,f as v,w as f,g as b,d as g,t as S,q as h,h as w,R as _}from"../gva/pixel-index.1754731104000.js";import"./pixel-dictionary.1754731104000.js";const k={class:"p-2"},C={style:{"overflow-x":"auto"}},y={style:{cursor:"pointer","font-weight":"500"}},x=["onClick"],V=["onClick"],I=["onClick"];var M=s({__name:"index",setup(s){u({clientDDDetailDialogVisible:!1}),c(["1"]);const M=c({clientNo:"",location:"",enName:"",accountManager:"",clientStatus:"",reviewStatus:"",riskLevel:"",email:"",page:1,pageSize:10,total:0}),N=c([]),D=()=>{l(M.value).then((e=>{0===e.code&&(N.value=e.data.list,M.value.total=e.data.total)}))},R=(e,l)=>{a({id:e.ID,clientStatus:l}).then((e=>{0===e.code&&(D(),w.success("Success"))}))},T=()=>{M.value={clientId:"",unitId:"",locationName:"",englishName:"",accountManager:"",clientStatus:"",reviewStatus:"",riskLevel:""}};d((()=>{D()}));return(l,a)=>{const s=r("el-input"),u=r("el-form-item"),c=r("el-option"),d=r("el-select"),A=r("el-button"),P=r("el-form"),j=r("el-table-column"),E=r("el-tag"),U=r("el-table");return m(),p("div",k,[v(P,{inline:!0,"label-position":"top",model:M.value,class:"demo-form-inline"},{default:f((()=>[v(u,{label:"Client No"},{default:f((()=>[v(s,{modelValue:M.value.unitId,"onUpdate:modelValue":a[0]||(a[0]=e=>M.value.unitId=e),placeholder:"Please enter unit id"},null,8,["modelValue"])])),_:1}),v(u,{label:"Email"},{default:f((()=>[v(s,{modelValue:M.value.email,"onUpdate:modelValue":a[1]||(a[1]=e=>M.value.email=e),placeholder:"Please enter email"},null,8,["modelValue"])])),_:1}),v(u,{label:"Manager"},{default:f((()=>[v(s,{modelValue:M.value.accountManager,"onUpdate:modelValue":a[2]||(a[2]=e=>M.value.accountManager=e),placeholder:"Please enter account manager"},null,8,["modelValue"])])),_:1}),v(u,{label:"Client Status"},{default:f((()=>[v(d,{modelValue:M.value.clientStatus,"onUpdate:modelValue":a[3]||(a[3]=e=>M.value.clientStatus=e),placeholder:"Please select client status"},{default:f((()=>[v(c,{label:"Review",value:1}),v(c,{label:"Active",value:2}),v(c,{label:"Suspend",value:3})])),_:1},8,["modelValue"])])),_:1}),v(u,{label:" "},{default:f((()=>[v(A,{type:"primary",onClick:D},{default:f((()=>a[4]||(a[4]=[b("Search")]))),_:1}),v(A,{onClick:T},{default:f((()=>a[5]||(a[5]=[b("Reset")]))),_:1})])),_:1})])),_:1},8,["model"]),g("div",C,[v(U,{data:N.value,"show-overflow-tooltip":""},{default:f((()=>[v(j,{prop:"clientNo",label:"Client No","min-width":"120"},{default:f((({row:e})=>[g("span",y,[b(S(e.clientNo)+"  ",1),g("i",{class:"bi bi-copy",onClick:l=>{return a=e.clientNo,o(a),void w.success("Copy Success");var a}},null,8,x)])])),_:1}),v(j,{prop:"email",label:"email","min-width":"120"}),v(j,{prop:"accountManager",label:"Manager","min-width":"120"},{default:f((({row:e})=>[g("i",{onClick:l=>(e=>{_.prompt("Please enter manager name","Set manager",{confirmButtonText:"Save",cancelButtonText:"Cancel",inputValue:e.accountManager}).then((l=>{n({id:e.ID,accountManager:l.value}).then((e=>{0===e.code&&w({type:"success",message:"Edit Success"})}))}))})(e),class:"bi bi-pencil-square"},null,8,V),b(S(e.accountManager),1)])),_:1}),v(j,{prop:"inviter",label:"Inviter","min-width":"120"},{default:f((({row:e})=>[b(S(e.inviteUser.userName),1)])),_:1}),v(j,{prop:"clientType",label:"Client Type","min-width":"120"}),v(j,{prop:"location",label:"Location","min-width":"90"}),v(j,{prop:"clientStatus",label:"Client Status","min-width":"120"},{default:f((({row:e})=>[v(E,{type:1==e.clientStatus?"info":2==e.clientStatus?"success":"danger"},{default:f((()=>[b(S(1==e.clientStatus?"Review":2==e.clientStatus?"Active":"Suspend"),1)])),_:2},1032,["type"])])),_:1}),v(j,{prop:"createdAt",label:"Register Time","min-width":"120"},{default:f((({row:l})=>[b(S(h(e)(l.CreatedAt)),1)])),_:1}),v(j,{prop:"remark",label:"Remark","min-width":"120"},{default:f((({row:e})=>[g("i",{onClick:l=>(e=>{_.prompt("Please enter your remark","Edit Remark",{confirmButtonText:"Save",cancelButtonText:"Cancel",inputValue:e.remark}).then((l=>{i({id:e.ID,remark:l.value}).then((e=>{0===e.code&&w({type:"success",message:"Edit Success"})}))}))})(e),class:"bi bi-pencil-square"},null,8,I),b(S(e.remark),1)])),_:1}),v(j,{label:"Action",fixed:"right","min-width":"200"},{default:f((({row:e})=>[g("div",null,[v(A,{onClick:l=>R(e,3),disabled:3==e.clientStatus,size:"small",type:"text"},{default:f((()=>a[6]||(a[6]=[b("Suspence")]))),_:2},1032,["onClick","disabled"]),v(A,{onClick:l=>R(e,2),disabled:2==e.clientStatus,size:"small",type:"text"},{default:f((()=>a[7]||(a[7]=[b("Active")]))),_:2},1032,["onClick","disabled"]),v(A,{disabled:2!=e.clientStatus,size:"small",type:"text",onClick:l=>(e=>{console.log(1111),t({id:e.ID}).then((e=>{if(0===e.code&&null!=e.data){let l=document.createElement("a");l.target="_blank",l.href=e.data,l.click(),l.remove()}}))})(e)},{default:f((()=>a[8]||(a[8]=[b("RO Login")]))),_:2},1032,["disabled","onClick"])])])),_:1})])),_:1},8,["data"])])])}}},[["__scopeId","data-v-765b1eaa"]]);export{M as default};
