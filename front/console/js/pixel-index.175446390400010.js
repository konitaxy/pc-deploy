/*! 
 Build based on melong-console 
 Time : 1754463904000 */
import{g as e,c as s}from"./pixel-client.1754463904000.js";import{_ as a,u as l,r as t,g as o,c,h as d,b as u,e as r,D as n,w as i,j as p,i as f,f as m,U as v,E as b}from"../assets/pixel-entry-index.1754463904000.js";const _={class:"p-2"},y={class:"mt-4 w-100"},h={class:"row mt-5"},x={class:"col"},C=["src"],w=a({__name:"index",setup(a){const w=l(),g=t({secret:"",qrCode:""}),k=()=>{e().then((e=>{0===e.code&&(g.value=e.data)}))},A=()=>{v.prompt("Please input 2fa code","2FA Code",{confirmButtonText:"OK",cancelButtonText:"Cancel",inputErrorMessage:"Invalid Code"}).then((({value:e})=>{s({verifyCode:e}).then((e=>{0===e.code&&b.success("Success")}))})).catch((()=>{}))};return(e,s)=>{const a=o("el-alert"),l=o("el-input"),t=o("el-form-item"),v=o("el-button"),b=o("el-form");return d(),c("div",_,[s[5]||(s[5]=u("div",{class:"row mt-2"},[u("div",{class:"col"},[u("h4",null,"Google认证")])],-1)),u("div",y,[n(w).userInfo.bind2FA?(d(),r(a,{key:0,type:"success",closable:!1},{default:i((()=>s[1]||(s[1]=[p("你已经成功绑定2FA")]))),_:1})):(d(),r(a,{key:1,type:"error",closable:!1},{default:i((()=>s[2]||(s[2]=[p("您还未绑定双因素认证,请尽快绑定")]))),_:1}))]),u("div",h,[u("div",x,[f(b,{"label-width":"100px"},{default:i((()=>[f(t,{label:"秘钥:"},{default:i((()=>[f(l,{disabled:"",class:"w-50",modelValue:g.value.secret,"onUpdate:modelValue":s[0]||(s[0]=e=>g.value.secret=e)},null,8,["modelValue"])])),_:1}),n(w).userInfo.bind2FA?m("",!0):(d(),r(t,{key:0,label:"扫码绑定:"},{default:i((()=>[u("img",{src:g.value.qrCode,alt:"QR Code",style:{width:"200px",height:"200px"}},null,8,C)])),_:1})),f(t,null,{default:i((()=>[f(v,{type:"primary",onClick:k},{default:i((()=>s[3]||(s[3]=[p("获取秘钥")]))),_:1}),n(w).userInfo.bind2FA?m("",!0):(d(),r(v,{key:0,type:"success",onClick:A},{default:i((()=>s[4]||(s[4]=[p("确认绑定")]))),_:1}))])),_:1})])),_:1})])])])}}},[["__scopeId","data-v-3a59bf3b"]]);export{w as default};
