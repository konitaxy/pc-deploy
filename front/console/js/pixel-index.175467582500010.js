/*! 
 Build based on melong-console 
 Time : 1754675825000 */
import{g as e,c as a}from"./pixel-client.1754675825000.js";import{_ as s,c as l,r as t,g as c,d as n,j as d,e as o,t as r,h as i,l as u,w as _,k as f,f as m,i as p,V as b,E as g}from"../assets/pixel-entry-index.1754675825000.js";const v={class:"p-2"},y={class:"row mt-2"},h={class:"col"},x={class:"mt-4 w-100"},k={class:"row mt-5"},C={class:"col"},w=["src"],$=s({__name:"index",setup(s){const $=l(),I=t({secret:"",qrCode:""}),A=()=>{e().then((e=>{0===e.code&&(I.value=e.data)}))},F=()=>{b.prompt("Please input 2fa code","2FA Code",{confirmButtonText:"OK",cancelButtonText:"Cancel",inputErrorMessage:"Invalid Code"}).then((({value:e})=>{a({verifyCode:e}).then((e=>{0===e.code&&g.success("Success")}))})).catch((()=>{}))};return(e,a)=>{const s=c("el-alert"),l=c("el-input"),t=c("el-form-item"),b=c("el-button"),g=c("el-form");return d(),n("div",v,[o("div",y,[o("div",h,[o("h4",null,r(e.$t("lang.google_authentication")),1)])]),o("div",x,[u($).userInfo.bind2FA?(d(),i(s,{key:0,type:"success",closable:!1},{default:_((()=>[f(r(e.$t("lang.bind_2fa_success_message")),1)])),_:1})):(d(),i(s,{key:1,type:"error",closable:!1},{default:_((()=>[f(r(e.$t("lang.bind_2fa_required_message")),1)])),_:1}))]),o("div",k,[o("div",C,[m(g,{"label-width":"100px"},{default:_((()=>[m(t,{label:e.$t("lang.secret_key")},{default:_((()=>[m(l,{disabled:"",class:"w-50",modelValue:I.value.secret,"onUpdate:modelValue":a[0]||(a[0]=e=>I.value.secret=e)},null,8,["modelValue"])])),_:1},8,["label"]),u($).userInfo.bind2FA?p("",!0):(d(),i(t,{key:0,label:e.$t("lang.scan_bind")},{default:_((()=>[o("img",{src:I.value.qrCode,alt:"QR Code",style:{width:"200px",height:"200px"}},null,8,w)])),_:1},8,["label"])),m(t,null,{default:_((()=>[m(b,{type:"primary",onClick:A},{default:_((()=>[f(r(e.$t("lang.get_secret_key")),1)])),_:1}),u($).userInfo.bind2FA?p("",!0):(d(),i(b,{key:0,type:"success",onClick:F},{default:_((()=>[f(r(e.$t("lang.comfirm_bind")),1)])),_:1}))])),_:1})])),_:1})])])])}}},[["__scopeId","data-v-9bfc6d45"]]);export{$ as default};
