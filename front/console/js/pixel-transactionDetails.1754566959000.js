/*! 
 Build based on melong-console 
 Time : 1754566959000 */
import{f as e}from"./pixel-finance.1754566959000.js";import{f as a}from"./pixel-format.1754566959000.js";import{_ as l,a as t,o,r,g as n,c as d,h as s,i,w as u,e as c,f as p,j as m,b as f,t as g,D as b}from"../assets/pixel-entry-index.1754566959000.js";const h={class:"form-white"},y={class:"ms-1"},_={class:"dialog-footer"},w={name:"CardTransactionDetail"},R=l(Object.assign(w,{props:{cardID:{type:String,default:""}},setup(l){const w=t({cardId:l.cardID,cardNumber:"",timeRange:[],transactionType:"",transactionStatus:"",total:0,pageSize:20,page:1}),R=async()=>{e(w).then((e=>{0===e.code&&(V.value=e.data.list,w.total=e.data.total)}))};o((()=>{R()}));const V=r([]),v=()=>{R()},T=()=>{},C=e=>{pageSize.value=e,R()},z=e=>{currentPage.value=e,R()};return(e,l)=>{const t=n("el-input"),o=n("el-form-item"),r=n("el-date-picker"),R=n("el-option"),N=n("el-select"),S=n("el-button"),k=n("el-form"),x=n("el-table-column"),D=n("el-table"),I=n("el-pagination"),j=n("el-dialog");return s(),d("div",h,[i(k,{inline:!0,class:"demo-form-inline"},{default:u((()=>[""==w.cardId?(s(),c(o,{key:0},{default:u((()=>[i(t,{modelValue:w.cardNumber,"onUpdate:modelValue":l[0]||(l[0]=e=>w.cardNumber=e),placeholder:"请输入卡号后四位"},null,8,["modelValue"])])),_:1})):p("",!0),i(o,null,{default:u((()=>[i(r,{modelValue:w.timeRange,"onUpdate:modelValue":l[1]||(l[1]=e=>w.timeRange=e),type:"datetimerange",style:{width:"auto"},"start-placeholder":"开始时间","value-format":"YYYY-MM-DD","end-placeholder":"结束时间"},null,8,["modelValue"])])),_:1}),i(o,null,{default:u((()=>[i(N,{modelValue:w.transactionType,"onUpdate:modelValue":l[2]||(l[2]=e=>w.transactionType=e),placeholder:"请选择交易类型",clearable:""},{default:u((()=>[i(R,{label:"Recharge",value:"Card_Recharge"}),i(R,{label:"Withdraw",value:"Card_Withdraw"}),i(R,{label:"Authorization",value:"Authorization"})])),_:1},8,["modelValue"])])),_:1}),i(o,null,{default:u((()=>[i(S,{type:"primary",onClick:v},{default:u((()=>l[5]||(l[5]=[m("搜索")]))),_:1}),i(S,{type:"primary",onClick:T},{default:u((()=>l[6]||(l[6]=[m("导出")]))),_:1})])),_:1})])),_:1}),i(D,{data:V.value,style:{width:"100%"}},{default:u((()=>[i(x,{prop:"card.cardNo",label:"卡号"}),i(x,{prop:"merchantName",label:"商户名称"}),i(x,{prop:"amount",label:"交易金额"},{default:u((({row:e})=>[m(g(e.amount),1),f("span",y,g(e.currency),1)])),_:1}),i(x,{prop:"transactionType",label:"交易类型"},{default:u((({row:e})=>[m(g("Card_Recharge"==e.transactionType?"Recharge":"Card_Withdraw"==e.transactionType?"Withdraw":e.transactionType),1)])),_:1}),i(x,{prop:"status",label:"交易状态"}),i(x,{prop:"transactionTime",label:"交易时间"},{default:u((({row:e})=>[m(g(b(a)(e.transactionTime)),1)])),_:1})])),_:1},8,["data"]),i(I,{background:"",layout:"total, sizes, prev, pager, next",total:w.total,"page-size":w.pageSize,"page-sizes":[10,50,100],"current-page":w.page,onSizeChange:C,onCurrentChange:z},null,8,["total","page-size","current-page"]),i(j,{modelValue:e.dialogVisible,"onUpdate:modelValue":l[4]||(l[4]=a=>e.dialogVisible=a),title:"查看"},{footer:u((()=>[f("span",_,[i(S,{onClick:l[3]||(l[3]=a=>e.dialogVisible=!1)},{default:u((()=>l[7]||(l[7]=[m("取消")]))),_:1})])])),default:u((()=>[f("p",null,"流水号 "+g(e.selectedRow.transactionId),1),f("p",null,"卡号 "+g(e.selectedRow.cardNumber),1),f("p",null,"商户名称 "+g(e.selectedRow.merchantName),1),f("p",null,"交易金额 "+g(e.selectedRow.transactionAmount),1),f("p",null,"交易币种 "+g(e.selectedRow.currency),1),f("p",null,"到账金额 "+g(e.selectedRow.arrivalAmount),1),f("p",null,"交易类型 "+g(e.selectedRow.transactionType),1),f("p",null,"交易状态 "+g(e.selectedRow.transactionStatus),1),f("p",null,"交易时间 "+g(e.selectedRow.transactionTime),1)])),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-fbf34db5"]]);export{R as default};
